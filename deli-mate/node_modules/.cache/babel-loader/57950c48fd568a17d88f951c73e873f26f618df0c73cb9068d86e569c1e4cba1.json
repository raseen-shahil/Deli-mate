{"ast":null,"code":"import { addDoc, collection, deleteDoc, doc, getDoc, getDocs, query, serverTimestamp, setDoc, updateDoc, where } from \"firebase/firestore\";\nimport { db } from \"./firebase-config\";\nexport function dataEntry(data, cln, uid) {\n  return addDoc(collection(db, cln), {\n    user_Id: uid,\n    ...data,\n    time: serverTimestamp()\n  });\n}\nexport async function updateData(cln, id, data) {\n  return await updateDoc(doc(db, cln, id), {\n    ...data\n  });\n}\nexport async function getData(cln) {\n  const List = [];\n  const querySnapshot = await getDocs(collection(db, cln));\n  querySnapshot.forEach(doc => {\n    // doc.data() is never undefined for query doc snapshots\n    List.push({\n      ...doc.data(),\n      id: doc.id\n    });\n    console.log(\"from\");\n  });\n  return List;\n}\nexport async function deleteData(cln, id) {\n  await deleteDoc(doc(db, cln, id));\n}\nexport async function getDataId(cln, id) {\n  const docRef = doc(db, cln, id);\n  const docSnap = await getDoc(docRef);\n  if (docSnap.exists()) {\n    return docSnap.data();\n  } else {\n    console.log(\"no data found\");\n    return null;\n  }\n}\nexport async function dataWhere(cln, condition) {\n  const List = [];\n  try {\n    const q = query(collection(db, cln), ...condition);\n    const querySnapshot = await getDocs(q);\n    querySnapshot.docs.forEach(doc => {\n      List.push({\n        id: doc.id,\n        ...doc.data()\n      });\n    });\n    return List;\n  } catch (e) {\n    console.log(\"error\", e);\n  }\n}\nexport function dateTime(date) {\n  const time = Number(date.slice(16, 18));\n  if (time < 12) {\n    return date.slice(0, 15) + \"  \" + time + date.slice(18, 21) + \" am\";\n  } else {\n    return date.slice(0, 15) + \"  \" + (time - 12) + date.slice(18, 21) + \" pm\";\n  }\n}\nexport function removeArrayDup() {\n  let arr1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let arr2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let arr3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  console.log({\n    arr1,\n    arr2,\n    arr3\n  });\n  if (arr1[0] === \"abs\" || arr2[0] === \"abs\" || arr3[0] === \"abs\") {\n    return [\"abs\"];\n  }\n  if (!arr1[0]) {\n    if (arr2[0]) {\n      const t = arr2;\n      arr2 = arr3;\n      arr1 = t;\n    } else if (arr3[0]) {\n      arr1 = arr3;\n    }\n  } else if (!arr3[0] && arr2[0]) {\n    arr2 = arr3;\n  }\n  if (arr2[0]) {\n    arr1 = arr1.filter(x => arr2.indexOf(x) !== -1);\n  } else if (arr3[0]) {\n    arr1 = arr1.filter(x => arr3.indexOf(x) !== -1);\n  }\n  if (!arr1[0]) {\n    arr1 = [\"noData\"];\n  }\n  return arr1;\n}","map":{"version":3,"names":["addDoc","collection","deleteDoc","doc","getDoc","getDocs","query","serverTimestamp","setDoc","updateDoc","where","db","dataEntry","data","cln","uid","user_Id","time","updateData","id","getData","List","querySnapshot","forEach","push","console","log","deleteData","getDataId","docRef","docSnap","exists","dataWhere","condition","q","docs","e","dateTime","date","Number","slice","removeArrayDup","arr1","arr2","arr3","t","filter","x","indexOf"],"sources":["C:/Users/QWERTY/Downloads/deli-mate-main/deli-mate-main/src/dataManagement.js"],"sourcesContent":["import {\n  addDoc,\n  collection,\n  deleteDoc,\n  doc,\n  getDoc,\n  getDocs,\n  query,\n  serverTimestamp,\n  setDoc,\n  updateDoc,\n  where,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase-config\";\n\nexport function dataEntry(data, cln, uid) {\n  return addDoc(collection(db, cln), {\n    user_Id: uid,\n    ...data,\n    time: serverTimestamp(),\n  });\n}\nexport async function updateData(cln, id, data) {\n  return await updateDoc(doc(db, cln, id), {\n    ...data,\n  });\n}\nexport async function getData(cln) {\n  const List = [];\n  const querySnapshot = await getDocs(collection(db, cln));\n  querySnapshot.forEach((doc) => {\n    // doc.data() is never undefined for query doc snapshots\n    List.push({ ...doc.data(), id: doc.id });\n    console.log(\"from\");\n  });\n  return List;\n}\n\nexport async function deleteData(cln, id) {\n  await deleteDoc(doc(db, cln, id));\n}\n\nexport async function getDataId(cln, id) {\n  const docRef = doc(db, cln, id);\n  const docSnap = await getDoc(docRef);\n\n  if (docSnap.exists()) {\n    return docSnap.data();\n  } else {\n    console.log(\"no data found\");\n    return null;\n  }\n}\nexport async function dataWhere(cln, condition) {\n  const List = [];\n  try {\n    const q = query(collection(db, cln), ...condition);\n    const querySnapshot = await getDocs(q);\n    querySnapshot.docs.forEach((doc) => {\n      List.push({ id: doc.id, ...doc.data() });\n    });\n    return List;\n  } catch (e) {\n    console.log(\"error\", e);\n  }\n}\n\nexport function dateTime(date) {\n  const time = Number(date.slice(16, 18));\n\n  if (time < 12) {\n    return date.slice(0, 15) + \"  \" + time + date.slice(18, 21) + \" am\";\n  } else {\n    return date.slice(0, 15) + \"  \" + (time - 12) + date.slice(18, 21) + \" pm\";\n  }\n}\n\nexport function removeArrayDup(arr1 = [], arr2 = [], arr3 = []) {\n  console.log({ arr1, arr2, arr3 });\n  if (arr1[0] === \"abs\" || arr2[0] === \"abs\" || arr3[0] === \"abs\") {\n    return [\"abs\"];\n  }\n\n  if (!arr1[0]) {\n    if (arr2[0]) {\n      const t = arr2;\n      arr2 = arr3;\n      arr1 = t;\n    } else if (arr3[0]) {\n      arr1 = arr3;\n    }\n  } else if (!arr3[0] && arr2[0]) {\n    arr2 = arr3;\n  }\n\n  if (arr2[0]) {\n    arr1 = arr1.filter((x) => arr2.indexOf(x) !== -1);\n  } else if (arr3[0]) {\n    arr1 = arr1.filter((x) => arr3.indexOf(x) !== -1);\n  }\n\n  if (!arr1[0]) {\n    arr1 = [\"noData\"];\n  }\n\n  return arr1;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}