{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\QWERTY\\\\Downloads\\\\deli-mate-main\\\\deli-mate-main\\\\src\\\\components\\\\Lists\\\\Lists.jsx\",\n  _s = $RefreshSig$();\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"../../firebase-config\";\nimport FoodList from \"../FoodList/FoodList\";\nimport \"./Lists.css\";\nimport ReactLoading from \"react-loading\";\nimport { updateData } from \"../../dataManagement\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Lists(_ref) {\n  _s();\n  let {\n    search,\n    Max,\n    Sort,\n    Type\n  } = _ref;\n  const [data, setData] = useState([]);\n  const [load, setLoad] = useState(true);\n  useEffect(() => {\n    setLoad(true);\n    const q = query(collection(db, \"Foodlistings\"), search, where(\"flag\", \"==\", true), where(\"nPrice\", ...Max), ...Type, ...Sort);\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const List = [];\n      snapshot.docs.forEach(doc => {\n        if (Number(doc.data().qty) === Number(doc.data().nQty)) {\n          updateData(\"Foodlistings\", doc.id, {\n            flag: false\n          });\n        } else {\n          List.push({\n            uid: doc.data().user_Id,\n            id: doc.id,\n            ...doc.data()\n          });\n          setLoad(false);\n        }\n      });\n      setData(List);\n      !List[0] && setLoad(false);\n    }, error => {\n      console.log(error);\n    });\n    return unsubscribe;\n  }, [search, Max, Type, Sort]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"main-body\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contain-body\",\n      children: [!data[0] && !load && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"load\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"No Data Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), load && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"load-react\",\n        children: /*#__PURE__*/_jsxDEV(ReactLoading, {\n          type: \"bars\",\n          color: \"rgb(10 180 50)\",\n          height: \"20%\",\n          width: \"20%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), data.map(elt => {\n        return /*#__PURE__*/_jsxDEV(FoodList, {\n          uid: elt.uid,\n          price: elt.nPrice,\n          qty: elt.qty,\n          type: elt.type,\n          id: elt.id,\n          pic: elt.pic,\n          eFlag: elt.eFlag,\n          nQty: elt.nQty\n        }, elt.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Lists, \"PrGCW0Ys3B6XLIqZzzYIwV3Tcnc=\");\n_c = Lists;\nexport default Lists;\nvar _c;\n$RefreshReg$(_c, \"Lists\");","map":{"version":3,"names":["collection","onSnapshot","query","where","React","useEffect","useState","db","FoodList","ReactLoading","updateData","Lists","search","Max","Sort","Type","data","setData","load","setLoad","q","unsubscribe","snapshot","List","docs","forEach","doc","Number","qty","nQty","id","flag","push","uid","user_Id","error","console","log","map","elt","nPrice","type","pic","eFlag"],"sources":["C:/Users/QWERTY/Downloads/deli-mate-main/deli-mate-main/src/components/Lists/Lists.jsx"],"sourcesContent":["import { collection, onSnapshot, query, where } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"../../firebase-config\";\nimport FoodList from \"../FoodList/FoodList\";\nimport \"./Lists.css\";\nimport ReactLoading from \"react-loading\";\nimport { updateData } from \"../../dataManagement\";\n\nfunction Lists({ search, Max, Sort, Type }) {\n  const [data, setData] = useState([]);\n  const [load, setLoad] = useState(true);\n\n  useEffect(() => {\n    setLoad(true);\n    const q = query(\n      collection(db, \"Foodlistings\"),\n      search,\n      where(\"flag\", \"==\", true),\n      where(\"nPrice\", ...Max),\n      ...Type,\n      ...Sort\n    );\n    const unsubscribe = onSnapshot(\n      q,\n      (snapshot) => {\n        const List = [];\n        snapshot.docs.forEach((doc) => {\n          if (Number(doc.data().qty) === Number(doc.data().nQty)) {\n            updateData(\"Foodlistings\", doc.id, { flag: false });\n          } else {\n            List.push({ uid: doc.data().user_Id, id: doc.id, ...doc.data() });\n            setLoad(false);\n          }\n        });\n        setData(List);\n        !List[0] && setLoad(false);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n    return unsubscribe;\n  }, [search, Max, Type, Sort]);\n\n  return (\n    <section className=\"main-body\">\n      <div className=\"contain-body\">\n        {!data[0] && !load && (\n          <div className=\"load\">\n            <h1>No Data Found</h1>\n          </div>\n        )}\n        {load && (\n          <div className=\"load-react\">\n            <ReactLoading\n              type={\"bars\"}\n              color={\"rgb(10 180 50)\"}\n              height={\"20%\"}\n              width={\"20%\"}\n            />\n          </div>\n        )}\n        {data.map((elt) => {\n          return (\n            <FoodList\n              uid={elt.uid}\n              price={elt.nPrice}\n              qty={elt.qty}\n              type={elt.type}\n              key={elt.id}\n              id={elt.id}\n              pic={elt.pic}\n              eFlag={elt.eFlag}\n              nQty={elt.nQty}\n            />\n          );\n        })}\n      </div>\n    </section>\n  );\n}\n\nexport default Lists;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}